<!DOCTYPE html>
<html lang="en">
<!--<META HTTP-EQUIV="refresh" CONTENT="1">-->

<head>
    <link rel="stylesheet" type="text/css" href="./matching-game.css">
</head>

<body id="body" onload="generateFaces();">

    <h1>Matching Game</h1>
    <p>Find the extra smiley face on the left</p>

    <div id="leftSide"></div>
    <div id="rightSide"></div>

    <script>
        var test = 1;
        var numberOfFaces = 5;
        
        var generateFaces = function() {
            console.log(test);
            var loopCounter = numberOfFaces;
            var theLeftSide = document.getElementById("leftSide");
            var theRightSide = document.getElementById("rightSide");
            console.log(theLeftSide);

            while (loopCounter > 0) {
                var smile = document.createElement("img");
                smile.src = "smile.png";
                loopCounter--;
                theLeftSide.appendChild(smile);
                //                console.log("numberOfFaces");
                smile.style.left = Math.random() * 400 + "px";
                smile.style.top = Math.random() * 400 + "px";
            };

            var leftSideImages = theLeftSide.cloneNode(true);
            var numOfSmiles = document.getElementsByTagName("img").length;
            //            console.log("numOfSmiles"+numOfSmiles);
            var lastSmile = leftSideImages.lastChild;
            //            console.log(lastSmile);
            leftSideImages.removeChild(lastSmile);
            //            console.log(leftSideImages);
            theRightSide.appendChild(leftSideImages)

            theLeftSide.lastChild.onclick = function nextLevel(event) {
                event.stopPropagation();
                alert("good job! next level will be harder!")
                console.log(numberOfFaces);
                document.getElementById("leftSide").innerHTML = "";
                document.getElementById("rightSide").innerHTML = "";
                numberOfFaces = numberOfFaces + 5;
                generateFaces();
                console.log(test)
                console.log(numberOfFaces)
            };
        };

        var theBody = document.getElementsByTagName("body")[0];

        theBody.onclick = function gameOver(event) {
            alert("wrong face. game over. let's play again. at least you got to level " + numberOfFaces/5);
            document.getElementById("leftSide").innerHTML = "";
            document.getElementById("rightSide").innerHTML = "";
            numberOfFaces = 5;
            generateFaces();
        };

    </script>
</body>

</html>
